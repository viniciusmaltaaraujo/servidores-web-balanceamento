# Porta do proxy
http_port 3128

# ACLs - Listas de Controle de Acesso
# Bloqueando domínios de redes sociais
acl blocked_sites dstdomain .facebook.com .instagram.com .tiktok.com

# Exemplo de rede interna (produção):
# Em um ambiente real, você restringiria para o range da empresa
# Exemplo: 172.20.0.0/16 ou 192.168.0.0/24
# acl allowed_networks src 172.20.0.0/16

# Desativa verificação ICMPv6 (causa erro no Docker)
pinger_enable off

# Sempre conectar direto à internet
always_direct allow all

# Para fins acadêmicos/didáticos, liberamos todos os IPs
# Isso facilita o teste dos alunos, sem depender da rede local
acl allowed_networks src all  

# Regras de acesso
http_access deny blocked_sites
http_access allow allowed_networks
http_access deny all

# Logs para debug
access_log /var/log/squid/access.log
cache_log /var/log/squid/cache.log


